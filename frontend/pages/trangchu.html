<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Trang Chủ - Quản Lý Thư Viện</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
  * {
    box-sizing: border-box;
  }

  body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f0f2f5;
  }

  header {
    background-color: #2e86de;
    color: white;
    padding: 20px;
    text-align: center;
    font-size: 24px;
    position: relative;
  }

  #logoutButton {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    background: white;
    color: #2e86de;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    display: none;
  }

  nav {
    background-color: #ffffff;
    border-bottom: 1px solid #ccc;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  }

  nav a {
    text-decoration: none;
    color: #333;
    padding: 12px 16px;
    display: block;
    font-weight: bold;
    font-size: 16px;
  }

  nav a:hover {
    background-color: #eee;
  }

  .container {
    padding: 30px 15px;
    display: flex;
    flex-direction: column;
    gap: 30px;
    align-items: center;
  }

  .card {
    background-color: #fff;
    display: flex;
    flex-direction: row;
    width: 100%;
    max-width: 1200px;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .book-cover {
    width: 35%;
    min-width: 180px;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #fafafa;
  }

  .book-cover img {
    width: 100%;
    height: auto;
    object-fit: contain;
    padding: 10px;
  }

  .book-info {
    width: 65%;
    padding: 20px;
    text-align: justify;
    font-size: 18px;
    line-height: 1.6;
  }

  .book-info h2 {
    font-size: 24px;
    margin-top: 0;
    margin-bottom: 10px;
    color: #2c3e50;
    text-align: center;

  }

  @media (max-width: 768px) {
    nav {
      flex-direction: column;
      align-items: center;
    }

    nav a {
      padding: 10px;
      width: 100%;
      text-align: center;
      border-top: 1px solid #eee;
    }

    .card {
      flex-direction: column;
    }

    .book-cover,
    .book-info {
      width: 100%;
    }

    .book-info {
      font-size: 15px;
      padding: 15px;
    }

    header {
      font-size: 20px;
      padding: 15px;
    }

    #logoutButton {
      padding: 5px 10px;
      font-size: 14px;
    }
  }

  @media (max-width: 480px) {
    .book-info h2 {
      font-size: 18px;
    }

    .book-info {
      font-size: 14px;
    }

    nav a {
      font-size: 14px;
    }
  }
</style>

</head>
<body>

  <header>
    HỆ THỐNG QUẢN LÝ MƯỢN TRẢ SÁCH
    <button id="logoutButton" onclick="logout()">Đăng xuất</button>
  </header>

  <nav>
    <a href="trangchu.html" id="trangchu">Trang chủ</a>
    <a href="dangnhap.html" id="loginLink">Đăng nhập</a>
    <a href="dangky.html" id="dangky">Đăng ký</a>
    <a href="Ds_sach.html" id="sach">Sách</a>
    <a href="nhaxuatban.html" id="nxb">Nhà xuất bản</a>
    <a href="tacgia.html" id="tacgia">Tác giả</a>
    <a href="theloai.html" id="theloai">Thể loại</a>
    <a href="muonsach.html" id="muonsach">Mượn sách</a>
    <a href="trasach.html" id="trasach">Trả sách</a>
    <a href="phiphat.html" id="phiphat">Phí phạt</a>
    <a href="bieudo.html" id="bieudo">Biểu đồ lượt mượn</a>
    <a href="qlydocgia.html" id="docgia">Độc giả</a>
    <a href="qlynhanvien.html" id="nhanvien">Nhân viên</a>
  </nav>

  <div class="container" id="mainContent">

    <div class="card">
      <div class="book-cover">
        <img src="image/hoang-tu_be.webp" alt="Hoàng tử bé">
      </div>
      <div class="book-info">
        <h2>Hoàng tử bé</h2>
        <p><strong>Tác giả:</strong> Antoine de Saint-Exupéry</p>
        <p><strong>Tóm tắt:</strong> Một tác phẩm đầy triết lý qua hành trình của Hoàng tử bé đến các hành tinh, phản ánh sự ngây thơ, tinh thần khám phá và các bài học sâu sắc về tình yêu, sự trưởng thành và cuộc sống.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/dac_nhan_tam.jpg" alt="Đắc Nhân Tâm">
      </div>
      <div class="book-info">
        <h2>Đắc Nhân Tâm</h2>
        <p><strong>Tác giả:</strong> Dale Carnegie</p>
        <p><strong>Tóm tắt:</strong> Cuốn sách kinh điển về giao tiếp và nghệ thuật ứng xử, giúp con người xây dựng các mối quan hệ bền vững, tạo thiện cảm và ảnh hưởng tích cực đến người khác.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/nha_gia_kim.jpg" alt="Nhà Giả Kim">
      </div>
      <div class="book-info">
        <h2>Nhà Giả Kim</h2>
        <p><strong>Tác giả:</strong> Paulo Coelho</p>
        <p><strong>Tóm tắt:</strong> Câu chuyện ngụ ngôn hiện đại về hành trình của chàng chăn cừu Santiago đi tìm kho báu, qua đó khám phá ra “kho báu thật sự” là hành trình theo đuổi ước mơ và thấu hiểu chính mình.</p>
      </div>
    </div>
  
    <div class="card">
      <div class="book-cover">
        <img src="image/harry-potter.jpg" alt="Harry Potter">
      </div>
      <div class="book-info">
        <h2>Harry Potter và Hòn Đá Phù Thủy</h2>
        <p><strong>Tác giả:</strong> J.K. Rowling</p>
        <p><strong>Tóm tắt:</strong> Cuốn đầu tiên trong loạt truyện huyền thoại, kể về hành trình cậu bé phù thủy Harry Potter nhập học tại trường Hogwarts và khám phá sự thật về thân thế cùng định mệnh của mình.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/Tôi_thấy_hoa_vàng_trên_cỏ_xanh.jpg" alt="Tôi thấy hoa vàng trên cỏ xanh">
      </div>
      <div class="book-info">
        <h2>Tôi thấy hoa vàng trên cỏ xanh</h2>
        <p><strong>Tác giả:</strong> Nguyễn Nhật Ánh</p>
        <p><strong>Tóm tắt:</strong> Truyện kể về tuổi thơ trong trẻo của hai anh em Thiều và Tường ở một làng quê Việt Nam, phản ánh sự ngây thơ, ghen tuông và trưởng thành trong tâm hồn trẻ nhỏ.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/canh_dong_bat_tan.jpg" alt="Cánh đồng bất tận">
      </div>
      <div class="book-info">
        <h2>Cánh đồng bất tận</h2>
        <p><strong>Tác giả:</strong> Nguyễn Ngọc Tư</p>
        <p><strong>Tóm tắt:</strong> Một câu chuyện đau đáu về cuộc đời lưu lạc của hai cha con và người chị gái trong vùng sông nước miền Tây, phơi bày những mảnh đời đau khổ và lặng lẽ chịu đựng.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/cho_toi_xin_1_ve_di_tuoi_tho.jpg" alt="Cho tôi xin một vé đi tuổi thơ">
      </div>
      <div class="book-info">
        <h2>Cho tôi xin một vé đi tuổi thơ</h2>
        <p><strong>Tác giả:</strong> Nguyễn Nhật Ánh</p>
        <p><strong>Tóm tắt:</strong> Hồi ức nhẹ nhàng, hài hước và sâu lắng về tuổi thơ qua lăng kính của người trưởng thành, đưa người đọc trở về với những ngày tháng vô tư và đầy hoài niệm.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/de_men_phieu_luu_ki.jpg" alt="Dế Mèn Phiêu Lưu Ký">
      </div>
      <div class="book-info">
        <h2>Dế Mèn Phiêu Lưu Ký</h2>
        <p><strong>Tác giả:</strong> Tô Hoài</p>
        <p><strong>Tóm tắt:</strong> Chuyện kể về cuộc phiêu lưu của chú Dế Mèn, từ một con vật kiêu căng trở thành người bạn can đảm và nhân hậu, qua đó rút ra nhiều bài học về lòng nhân ái và trưởng thành.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/conan.png" alt="Conan">
      </div>
      <div class="book-info">
        <h2>Conan</h2>
        <p><strong>Tác giả:</strong> Gosho Aoyama</p>
        <p><strong>Tóm tắt:</strong> Truyện tranh trinh thám xoay quanh Shinichi Kudo – một thám tử học sinh bị teo nhỏ thành Conan, với những vụ án hấp dẫn, logic và đầy kịch tính.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/luoc_su_loai_nguoi.jpg" alt="Sapiens">
      </div>
      <div class="book-info">
        <h2>Sapiens: Lược Sử Loài Người</h2>
        <p><strong>Tác giả:</strong> Yuval Noah Harari</p>
        <p><strong>Tóm tắt:</strong> Trình bày sự phát triển của loài người từ kỷ nguyên săn bắt – hái lượm đến thời đại công nghệ, đặt ra những câu hỏi sâu sắc về văn minh, tôn giáo, tiền bạc và tương lai nhân loại.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/dam bi ghet.jpg" alt="Dám bị ghét">
      </div>
      <div class="book-info">
        <h2>Dám bị ghét</h2>
        <p><strong>Tác giả:</strong> Ichiro Kishimi & Fumitake Koga</p>
        <p><strong>Tóm tắt:</strong> Thuyết phục người đọc từ bỏ việc sống theo kỳ vọng người khác, tự do lựa chọn và sống đúng với giá trị bản thân, dựa trên tâm lý học Adler.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/tuoi-tre-dang-gia-bao-nhieu.jpg" alt="Tuổi trẻ đáng giá bao nhiêu?">
      </div>
      <div class="book-info">
        <h2>Tuổi Trẻ Đáng Giá Bao Nhiêu?</h2>
        <p><strong>Tác giả:</strong> Rosie Nguyễn</p>
        <p><strong>Tóm tắt:</strong> Lời tâm sự chân thành dành cho người trẻ về học tập, trải nghiệm, khám phá bản thân và sống có mục tiêu. Cuốn sách truyền cảm hứng mạnh mẽ cho giới trẻ Việt Nam.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/sach-bi-mat-tu-duy-trieu-phu.jpg" alt="Tư Duy Triệu Phú">
      </div>
      <div class="book-info">
        <h2>Bí Mật Tư Duy Triệu Phú</h2>
        <p><strong>Tác giả:</strong> T. Harv Eker</p>
        <p><strong>Tóm tắt:</strong> Tác giả chỉ ra những khác biệt trong tư duy và niềm tin về tiền bạc giữa người giàu và người nghèo, từ đó giúp người đọc thiết lập “bản đồ tài chính” mới cho bản thân.</p>
      </div>
    </div>

    <div class="card">
      <div class="book-cover">
        <img src="image/tuoi-tho-du-doi.jpg" alt="Tuổi thơ dữ dội">
      </div>
      <div class="book-info">
        <h2>Tuổi thơ dữ dội</h2>
        <p><strong>Tác giả:</strong> Phùng Quán</p>
        <p><strong>Tóm tắt:</strong> Một tác phẩm văn học kinh điển viết về thiếu niên anh hùng trong kháng chiến chống Pháp. Vừa bi tráng, vừa cảm động, ca ngợi lòng yêu nước và tinh thần quả cảm của tuổi trẻ.</p>
      </div>
    </div>

  </div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
  const role = localStorage.getItem("role");
  const logoutButton = document.getElementById("logoutButton");
  const loginLink = document.getElementById("loginLink");
  const dangkyLink = document.getElementById("dangky");

  // Các nút cần ẩn nếu là độc giả
  const docgiaHiddenLinks = ["docgia", "nhanvien", "bieudo"];

  if (isLoggedIn) {
    logoutButton.style.display = "inline-block";
    loginLink.style.display = "none";
    dangkyLink.style.display = "none";

    if (role === "docgia") {
      docgiaHiddenLinks.forEach(id => {
        const link = document.getElementById(id);
        if (link) link.style.display = "none";
      });
    }
  } else {
    logoutButton.style.display = "none";
    loginLink.style.display = "inline-block";
    dangkyLink.style.display = "inline-block";

    // Nếu chưa đăng nhập, cảnh báo khi bấm vào các nút chức năng
    const protectedLinks = ["sach", "nxb", "tacgia", "theloai", "muonsach", "trasach", "phiphat", "docgia", "nhanvien"];
    protectedLinks.forEach(id => {
      const link = document.getElementById(id);
      if (link) {
        link.addEventListener("click", e => {
          e.preventDefault();
          alert("⚠️ Bạn cần đăng nhập để truy cập chức năng này!");
        });
      }
    });
  }

  function logout() {
    localStorage.removeItem("token");
    localStorage.removeItem("isLoggedIn");
    localStorage.removeItem("role");
    window.location.href = "dangnhap.html";
  }

  logoutButton.addEventListener("click", logout);
});
</script>

</body>
</html> thêm <script type="module">
import { applyRoleControl, logout } from './js/auth.js';

document.addEventListener("DOMContentLoaded", () => {
  applyRoleControl();

  const logoutBtn = document.getElementById("logoutButton");
  if (logoutBtn) logoutBtn.addEventListener("click", logout);
});
</script>


</body>
</html>
